import{_ as w,u as S,a as x,o as F,b as a,c as n,d as s,F as v,r as h,e as A,f as r,g as $,h as B,n as P,t as c,i as m,w as T}from"./index-DMQ78c8o.js";const z={class:"home"},E={class:"container"},H={class:"filters"},M=["onClick"],R={key:0,class:"loading"},D={key:1,class:"empty-state"},I={key:2,class:"products-grid"},L=["onClick"],N={class:"product-image"},V=["src","alt"],j={class:"product-info"},q={class:"product-name"},G={class:"product-description"},J={class:"product-meta"},K={class:"product-price"},O={class:"product-category"},Q={class:"product-rating"},U={class:"reviews"},W=["onClick","disabled"],X={__name:"Home",setup(Y){const f=B(),d=S(),g=x(),l=r([]),u=r(!0),i=r("å…¨éƒ¨"),y=r(["å…¨éƒ¨","Electronics","Accessories"]),_=$(()=>i.value==="å…¨éƒ¨"?l.value:l.value.filter(e=>e.category===i.value)),k=async()=>{try{const e=await A.get("/products");l.value=e.data}catch(e){console.error("Failed to fetch products:",e)}finally{u.value=!1}},C=e=>{f.push(`/product/${e}`)},b=async e=>{try{await g.addToCart(e),alert("å·²æ·»åŠ åˆ°è´­ç‰©è½¦ï¼")}catch(o){console.error("Failed to add to cart:",o),alert("æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•")}};return F(()=>{k()}),(e,o)=>(a(),n("div",z,[o[3]||(o[3]=s("div",{class:"hero"},[s("div",{class:"container"},[s("h1",{class:"hero-title"},"æ¬¢è¿Žæ¥åˆ° CozShop"),s("p",{class:"hero-subtitle"},"å‘çŽ°ä¼˜è´¨å•†å“ï¼Œäº«å—è´­ç‰©ä¹è¶£")])],-1)),s("div",E,[s("div",H,[(a(!0),n(v,null,h(y.value,t=>(a(),n("button",{key:t,onClick:p=>i.value=t,class:P(["filter-btn",{active:i.value===t}])},c(t),11,M))),128))]),u.value?(a(),n("div",R,[...o[0]||(o[0]=[s("div",{class:"spinner"},null,-1)])])):_.value.length===0?(a(),n("div",D,[...o[1]||(o[1]=[s("div",{class:"empty-state-icon"},"ðŸ“¦",-1),s("p",{class:"empty-state-text"},"æš‚æ— å•†å“",-1)])])):(a(),n("div",I,[(a(!0),n(v,null,h(_.value,t=>(a(),n("div",{key:t.id,class:"product-card card",onClick:p=>C(t.id)},[s("div",N,[s("img",{src:t.image,alt:t.name},null,8,V)]),s("div",j,[s("h3",q,c(t.name),1),s("p",G,c(t.description),1),s("div",J,[s("span",K,"Â¥"+c(t.price.toFixed(2)),1),s("span",O,c(t.category),1)]),s("div",Q,[o[2]||(o[2]=s("span",{class:"stars"},"â­",-1)),s("span",null,c(t.rating),1),s("span",U,"("+c(t.numReviews)+" è¯„ä»·)",1)]),s("button",{class:"btn btn-primary btn-sm",onClick:T(p=>b(t),["stop"]),disabled:!m(d).isAuthenticated},c(m(d).isAuthenticated?"åŠ å…¥è´­ç‰©è½¦":"è¯·å…ˆç™»å½•"),9,W)])],8,L))),128))]))])]))}},ss=w(X,[["__scopeId","data-v-33261e2d"]]);export{ss as default};
